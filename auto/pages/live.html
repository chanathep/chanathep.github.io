<!DOCTYPE html>
<html>
<head>
  <title>Live Preview</title>
  <script>
    function renderPage() {
      const urlParams = new URLSearchParams(window.location.search);
      const pagesParam = urlParams.get('pages');

      if (pagesParam) {
        try {
          const decodedHtml = atob(pagesParam);
          document.body.innerHTML = decodedHtml;
        } catch (e) {
          console.error("Error decoding base64 string:", e);
          document.body.innerHTML = "<p>Error decoding content. Please ensure the 'pages' URL parameter contains valid base64 encoded HTML.</p>";
        }
      }
      // If pagesParam is not present, the initial body content will be shown.
    }
  </script>
</head>
<body onload="renderPage()">
  <h1>Live HTML Previewer</h1>
  <p>This page displays HTML content that is passed to it via the <code>pages</code> URL parameter.</p>
  <p>The HTML content must be base64 encoded.</p>
  <h2>Example:</h2>
  <p>To display the HTML content <code>&lt;h1&gt;Hello from Base64!&lt;/h1&gt;</code>, you would first base64 encode it. The encoded string for this example is <code>PGgxPkhlbGxvIGZyb20gQmFzZTY0ITwvaDE+</code>.</p>
  <p>Then, you would construct the URL like this:</p>
  <p><a href="/pages/auto/live.html?pages=PGgxPkhlbGxvIGZyb20gQmFzZTY0ITwvaDE+">/pages/auto/live.html?pages=PGgxPkhlbGxvIGZyb20gQmFzZTY0ITwvaDE+</a></p>
  <p>Click the link above to see it in action.</p>
</body>
</html>
